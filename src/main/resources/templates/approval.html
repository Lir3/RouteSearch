<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>承認選択</title>
    <link rel="stylesheet" th:href="@{/css/approval.css}">
</head>

<body>
    <div class="container">
        <h1>承認選択</h1>

        <!-- メール送信のスピナー -->
        <div class="spinner-overlay" id="spinner">
            <div class="spinner"></div>
            <div class="loading-text">入力されたメールアドレスに送信しています。</div>
        </div>

        <h2>選択ルート</h2>

        <form th:action="@{/sendMail}" method="post" onsubmit="showSpinner()">
            <label for="rootselect">決定ルート：</label>
            <p th:text="${commuterpassData.routeInfo}"></p>

            <!-- メール送信情報 -->
            <p><strong>名前:</strong> <span th:text="${commuterpassData.employeename}"></span></p>
            <input type="hidden" name="employeename" th:value="${commuterpassData.employeename}">

            <p><strong>メールアドレス:</strong> <span th:text="${commuterpassData.mailaddress}"></span></p>
            <input type="hidden" name="mailaddress" th:value="${commuterpassData.mailaddress}">

            <br>

            <button type="submit" class="button">承認メールを送信</button>
            <button type="button" class="button" onclick="location.href='/admindashboard'">戻る</button>
        </form>
    </div>

    <script>
        function showSpinner() {
            document.getElementById('spinner').style.display = 'flex';
        }
        function hideSpinner() {
            document.getElementById('spinner').style.display = 'none';
        }
        window.addEventListener('load', hideSpinner);
    </script>

</body>

</html>
